<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Model Services :: Podman AI Lab</title>
    <link rel="prev" href="section2.html">
    <link rel="next" href="section4.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Podman AI Lab</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/changeme/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="podman-ai-lab" data-version="1.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Podman AI Lab</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter1/index.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section1.html">GizmoGobble Corporation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section2.html">Podman &amp; Podman Desktop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/section3.html">Podman AI Lab</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter2/index.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter2/section1.html">Podman Desktop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter2/section2.html">Podman AI Lab Extension</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter2/section3.html">Create Podman Machine</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Podman AI Lab</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section1.html">Model Catalog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section2.html">AI Lab Playground</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="section3.html">Model Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="section4.html">Recipe Catalog</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter4/index.html">Advanced Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter4/section1.html">RAG</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter4/section2.html">InstructLab</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter4/section3.html">Podman Desktop Roadmap</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Podman AI Lab</span>
    <span class="version">1.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Podman AI Lab</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Podman AI Lab</a></li>
    <li><a href="section3.html">Model Services</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Model Services</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Once a model has been downloaded, you can start an inference server for the model. This allows you to test the model using a playground environment or connect applications to the inference server, which exposes a well-known OpenAI-compatible API endpoint.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_model_server"><a class="anchor" href="#_creating_a_model_server"></a>Creating a Model Server</h3>
<div class="paragraph">
<p>As we experienced during our playground lab, a model service is automatically created as the AI Model endpoint for the playground environment.</p>
</div>
<div class="paragraph">
<p>However, there will be times when we don&#8217;t need the playground, such as when experimenting with connecting an existing or new application with the AI Model directly.</p>
</div>
<div class="sect3">
<h4 id="_model_creation_details_read_only_section_not_a_lab"><a class="anchor" href="#_model_creation_details_read_only_section_not_a_lab"></a>Model creation details (read only section - not a lab)</h4>
<div class="paragraph">
<p>To create a model server, go to the Services page and click the Create Model service button. If your environment (Podman machine) does not have sufficient resources (memory), you will get a notification indicating that you need to increase the available memory. This can easily be updated from Podman Desktop&#8217;s Settings page.</p>
</div>
<div class="paragraph">
<p>If local resources are at capacity, stop an previously deployed Model services or playgrounds, then restart the podman machine to begin with a fresh virtual instance.</p>
</div>
<div class="paragraph">
<p>Next, select the desired model you want to serve, and if necessary, customize the port you want to use to one already used in your application.</p>
</div>
<div class="paragraph">
<p>The list of models displayed in the Model dropdown will only include models that are currently downloaded.</p>
</div>
<div class="paragraph">
<p>Once the model service has been started, we can open its detail page. This helps you understand the details of the model-service endpoint and explore a number of code snippets that help you learn how to interact with the model service from your application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/start-inference-server.gif" alt="start inference server" width="640">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_lab_model_services"><a class="anchor" href="#_lab_model_services"></a>LAB - Model Services</h2>
<div class="sectionbody">
<div class="sect3">
<h4 id="_return_to_the_podman_ai_dashboard"><a class="anchor" href="#_return_to_the_podman_ai_dashboard"></a>Return to the  Podman AI Dashboard</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Under Models menu, select <strong>Services</strong></p>
<div class="paragraph">
<p>In the window, any running model service is displayed with a green indicator. From this menu, using the icons on the right, you can stop, restart, and delete the model service. If a model is already running from the previous exercise, skip to the next section; otherwise, continue.</p>
</div>
</li>
<li>
<p>From the top right, select the <strong>New Model Service</strong> button.</p>
</li>
<li>
<p>Select a Model from the Models dropdown (only downloaded models will be populated in the list).</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the same model from the previous exercise:  <strong>instructlab/granite-7b-lab-GGUF</strong></p>
</li>
<li>
<p>Use defaults for the remaining options.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Select the Create Service button.</p>
</li>
<li>
<p>Once the Service is populated in the window with a green icon, the model endpoint is ready to use.</p>
</li>
<li>
<p>Click anywhere along the green icon or the model&#8217;s container name to open the <strong>Model Service details</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_model_service_details_dashboard"><a class="anchor" href="#_model_service_details_dashboard"></a>Model Service Details Dashboard</h4>
<div class="ulist">
<ul>
<li>
<p>First in the window is the <strong>Container section</strong> along with the Model&#8217;s container name.</p>
<div class="imageblock">
<div class="content">
<img src="_images/service_details.png" alt="service details" width="640">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The reason we need this name is we can visit the container section of Podman Desktop to:</p>
<div class="ulist">
<ul>
<li>
<p>Interact directly with the container via a terminal</p>
</li>
<li>
<p>View container logs</p>
</li>
<li>
<p>View the kubernetes manifest file used for deployment</p>
</li>
<li>
<p>Inspect the detailed state of the running container</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Next in the <strong>Model section</strong>, is the model name that was selected to be served, along with tags that indicate Model&#8217;s license &amp; source repository.</p>
</li>
<li>
<p>In the <strong>Server section</strong>, is the local url or inference endpoint for the Model.</p>
<div class="ulist">
<ul>
<li>
<p>The CPU inference flag designates that the Model is Served using CPU only. (no GPU or accelerator)</p>
</li>
</ul>
</div>
</li>
<li>
<p>The final section is the <strong>Client Code</strong> selector window.</p>
<div class="imageblock">
<div class="content">
<img src="_images/client_code.png" alt="client code" width="640">
</div>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client_code"><a class="anchor" href="#_client_code"></a>Client Code</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/curl-example.png" alt="curl example" width="800">
</div>
</div>
<div class="paragraph">
<p>The <em>Client Code</em> Section is dedicated to making AI application integration simple.</p>
</div>
<div class="paragraph">
<p>In the client code section, simply select the programming language from the dropdown in the top right.</p>
</div>
<div class="paragraph">
<p>The window will populate with sample code that includes all the correct information pre-populated to connect to the running model and have it return a response to the question:  What is the capital of France?</p>
</div>
<div class="paragraph">
<p>In addition to prompt, the sample also includes a sample code snippet to send a system message along with the prompt.  Usually this is set outside of the users input, but included with the sample for inclusion in the application integration code if needed.</p>
</div>
<div class="paragraph">
<p>An example of using the client code can be tested with a running model service,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>open a terminal window</p>
</li>
<li>
<p>copy the code snippet from the client code window for the CURL language</p>
</li>
<li>
<p>paste the generated code from the Curl language in the terminal window</p>
</li>
<li>
<p>Press enter to execute the command</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In a few moments the answer will appear.  The format will not be ideal, but this example just demonstrates that the code in the sample is valid and will send the prompt to and collect the response from the AI model.</p>
</div>
<div class="paragraph">
<p>With support for over 20 combinations of programming languages and libraries, the client code section provides these benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Simplifies developers having to search for, research, or learn new technologies to create the integration code base, allowing them to focus on outcomes of the integration.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Podman Desktop manages the model server container, ensuring high availability and efficient resource utilization. You can monitor its performance and logs through the Podman Desktop dashboard. Since it runs locally, you can keep full control of your data and intellectual property.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The API is compatible with the OpenAI format, so we can easily swap between local, SaaS provided and hybird-cloud based AI models.</p>
</li>
</ul>
</div>
<hr>
<div class="paragraph">
<p>Podman AI Lab enables you to serve the model as a containerized REST endpoint that your code can call, just like any other API. This allows testing of applicatione connectivity, application integration testing, and evaluation of the model&#8217;s base resource requirements.</p>
</div>
<div class="paragraph">
<p>The GizmoGobble team used Model serving as part of the playground enteraction, however, they didn&#8217;t plan to integrate an application, they plan was to connect a chatbot to the AI Model service. So let&#8217;s try the <strong>AI Application Recipe Catalog</strong> in the next section where the example deploys the AI Model, A Chatbot and the integration service to connect them.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="section2.html">AI Lab Playground</a></span>
  <span class="next"><a href="section4.html">Recipe Catalog</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
